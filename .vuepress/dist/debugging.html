<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>C Programming Notes | Debugging</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/32.styles.ae2a5d82.css" as="style"><link rel="preload" href="/assets/js/app.8a3df802.js" as="script"><link rel="preload" href="/assets/js/24.55c282e7.js" as="script"><link rel="prefetch" href="/assets/js/15.4559c975.js"><link rel="prefetch" href="/assets/js/0.894448ca.js"><link rel="prefetch" href="/assets/js/1.dbb2e170.js"><link rel="prefetch" href="/assets/js/2.f4e97633.js"><link rel="prefetch" href="/assets/js/3.77f784d0.js"><link rel="prefetch" href="/assets/js/4.f074ec56.js"><link rel="prefetch" href="/assets/js/5.401864b8.js"><link rel="prefetch" href="/assets/js/6.5ff037d9.js"><link rel="prefetch" href="/assets/js/7.79f66804.js"><link rel="prefetch" href="/assets/js/8.251a1da2.js"><link rel="prefetch" href="/assets/js/9.aeec5108.js"><link rel="prefetch" href="/assets/js/10.2ac99349.js"><link rel="prefetch" href="/assets/js/11.82476965.js"><link rel="prefetch" href="/assets/js/12.626fb8ab.js"><link rel="prefetch" href="/assets/js/13.9b5a9cde.js"><link rel="prefetch" href="/assets/js/14.6bf9dc3c.js"><link rel="prefetch" href="/assets/js/16.ba327036.js"><link rel="prefetch" href="/assets/js/17.2cd2ffe7.js"><link rel="prefetch" href="/assets/js/18.67c61d99.js"><link rel="prefetch" href="/assets/js/19.3887e1d9.js"><link rel="prefetch" href="/assets/js/20.09fda865.js"><link rel="prefetch" href="/assets/js/21.275eb215.js"><link rel="prefetch" href="/assets/js/22.41b961a6.js"><link rel="prefetch" href="/assets/js/23.c1b3a153.js"><link rel="prefetch" href="/assets/js/25.9c0ca156.js"><link rel="prefetch" href="/assets/js/26.211421c9.js"><link rel="prefetch" href="/assets/js/27.359e8375.js"><link rel="prefetch" href="/assets/js/28.68e35392.js"><link rel="prefetch" href="/assets/js/29.00cba656.js"><link rel="prefetch" href="/assets/js/30.acfd0a2d.js"><link rel="prefetch" href="/assets/js/31.a1c2ef32.js">
    <link rel="stylesheet" href="/assets/css/32.styles.ae2a5d82.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      C Programming Notes
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><!----></div></header><div class="sidebar-mask"></div><div class="sidebar"><!----><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>Main Pages</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/array-of-pointers.html" class="sidebar-link">Array of Pointers</a></li><li><a href="/array-of-strings.html" class="sidebar-link">Array of Strings</a></li><li><a href="/assembly.html" class="sidebar-link">Assembly</a></li><li><a href="/asserts.html" class="sidebar-link">Asserts</a></li><li><a href="/compiler-errors.html" class="sidebar-link">Compiler Errors</a></li><li><a href="/debugging.html" class="active sidebar-link">Debugging</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/debugging.html#observation" class="sidebar-link">Observation</a></li><li class="sidebar-sub-header"><a href="/debugging.html#question" class="sidebar-link">Question</a></li><li class="sidebar-sub-header"><a href="/debugging.html#gather-information-apply-expert-knowledge" class="sidebar-link">Gather Information &amp; Apply Expert Knowledge</a></li><li class="sidebar-sub-header"><a href="/debugging.html#hypothesis" class="sidebar-link">Hypothesis</a></li><li class="sidebar-sub-header"><a href="/debugging.html#accept-or-reject-hypothesis" class="sidebar-link">Accept or Reject Hypothesis</a></li></ul></li><li><a href="/debugging-with-gdb.html" class="sidebar-link">Debugging With GDB</a></li><li><a href="/function-pointers.html" class="sidebar-link">Function Pointers</a></li><li><a href="/initialise-multidimensional-array.html" class="sidebar-link">Initialise Multi Dimensional Array</a></li><li><a href="/linking.html" class="sidebar-link">Linking</a></li><li><a href="/manpages.html" class="sidebar-link">Manpages</a></li><li><a href="/mutable-strings.html" class="sidebar-link">Mutable Strings</a></li><li><a href="/null-pointer.html" class="sidebar-link">Null</a></li><li><a href="/operating-system.html" class="sidebar-link">The Operating System &amp; System Calls</a></li><li><a href="/pass-array-as-parameter.html" class="sidebar-link">Passing Arrays as Parameters</a></li><li><a href="/pass-array-of-strings-to-function.html" class="sidebar-link">Pass Array of Strings as a Function Parameter</a></li><li><a href="/pointer-abuse.html" class="sidebar-link">Pointer Abuse</a></li><li><a href="/pointer-arithmetic.html" class="sidebar-link">Pointer Arithmetic</a></li><li><a href="/pointers-to-structs.html" class="sidebar-link">Pointers to Structs</a></li><li><a href="/preprocessing.html" class="sidebar-link">Preprocessing</a></li><li><a href="/programme-design.html" class="sidebar-link">Programme Design</a></li><li><a href="/qsort-function-pointers.html" class="sidebar-link">Function Pointers in qsort()</a></li><li><a href="/read-file-fread.html" class="sidebar-link">Reading &amp; Writing to File in C</a></li><li><a href="/recursion.html" class="sidebar-link">Recursion</a></li><li><a href="/string-copying.html" class="sidebar-link">String Copying</a></li><li><a href="/string-equality.html" class="sidebar-link">String Equality</a></li><li><a href="/string-literals.html" class="sidebar-link">String Literals</a></li><li><a href="/testing-finding-bugs.html" class="sidebar-link">Testing &amp; Finding Bugs</a></li><li><a href="/typedef-structs.html" class="sidebar-link">Typedef Structs</a></li><li><a href="/valgrind.html" class="sidebar-link">Valgrind</a></li><li><a href="/white-box-testing.html" class="sidebar-link">White Box Testing</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="debugging"><a href="#debugging" aria-hidden="true" class="header-anchor">#</a> Debugging</h1><p>Don't just debug in an ad hoc fashion, use the scientific method.</p><ol><li>Observe a phenomenon</li><li>Ask a question</li><li>Gather information, apply expert knowledge</li><li>Form a hypothesis</li><li>Test hypothesis</li><li>If hypothesis is refuted, return to 3 and repeat</li><li>Accept hypothesis</li></ol><h2 id="observation"><a href="#observation" aria-hidden="true" class="header-anchor">#</a> Observation</h2><p>Note phenomena - programme gives wrong answer or unexpected outputs given certain inputs.</p><h2 id="question"><a href="#question" aria-hidden="true" class="header-anchor">#</a> Question</h2><p>Aim for focused questions:</p><ul><li>On which line does the programme crash?</li><li>Why does the programme fail if the input is x?</li></ul><p>Answering one question may lead to a new observation, and a new question in turn. The process is then repeated.</p><h2 id="gather-information-apply-expert-knowledge"><a href="#gather-information-apply-expert-knowledge" aria-hidden="true" class="header-anchor">#</a> Gather Information &amp; Apply Expert Knowledge</h2><p>Forming a good hypothesis is not necessarily easy.</p><p>Get information, use personal domain knowledge of particular programme, general programming knowledge.</p><p>You might use print statements to gather information but this has disadvantages - the programme must be recompiled, which can be time-consuming. In addition, the output may be overwhelming.</p><p>Using a debugger like <code>gdb</code> is a better option. When a programme is run inside a debugger, it runs as normal until it:</p><ul><li>Exits</li><li>Crashes</li><li>Reaches a breakpoint</li></ul><h3 id="breakpoints"><a href="#breakpoints" aria-hidden="true" class="header-anchor">#</a> Breakpoints</h3><p>A breakpoint is set on a particular line of code - it instructs the debugger to step execution at this point.</p><p>Breakpoints can be conditional - you can specify that the break should only occur if a specified conditional expression returns true.</p><p>Once stopped, you can examine the state of execution at this point - for example, print variables etc.</p><p>You can continue by executing one statement at a time, or continuing execution as normal. If you execute one statement at a time and you encounter a function call, you can either step over the call (ending up on the next line of the current function) or you can step into the function call and explore the internals of the called function.</p><p>This approach to gathering information is very flexible. If an anomaly is uncovered that suggests other things you need to explore, you can do this immediately.</p><h2 id="hypothesis"><a href="#hypothesis" aria-hidden="true" class="header-anchor">#</a> Hypothesis</h2><p>Important to form a good hypothesis:</p><ul><li>Testable - make specific predictions about behaviour given particular input (possibly test cases).</li><li>Actionable - should provide an indication of how the problem might be fixed.</li></ul><h2 id="accept-or-reject-hypothesis"><a href="#accept-or-reject-hypothesis" aria-hidden="true" class="header-anchor">#</a> Accept or Reject Hypothesis</h2><p>Test hypothesis thoroughly - don't accept too easily and check edge cases.</p><p>The danger is spending time &quot;fixing&quot; code based on a faulty hypothesis.</p><h3 id="construct-test-cases"><a href="#construct-test-cases" aria-hidden="true" class="header-anchor">#</a> Construct Test Cases</h3><p>When a hyothesis suggests a result, construct test cases with relevant values and check programme behaviour against these.</p><p>Include test cases that do not meet the conditions to see if the initial assumption was too specific.</p><h3 id="inspect-internal-state-of-the-programme"><a href="#inspect-internal-state-of-the-programme" aria-hidden="true" class="header-anchor">#</a> Inspect Internal State of the Programme</h3><p>Use the debugger to inspect the state of the programme to check the hypothesis.</p><h3 id="use-asserts"><a href="#use-asserts" aria-hidden="true" class="header-anchor">#</a> Use Asserts</h3><p>If the hypothesis suggests that we are violating an invariant, use an assert to confirm this.</p><h3 id="code-inspection"><a href="#code-inspection" aria-hidden="true" class="header-anchor">#</a> Code Inspection</h3><p>Sometimes a quick inspection can confirm the hypothesis.</p><h3 id="hypothesis-rejection"><a href="#hypothesis-rejection" aria-hidden="true" class="header-anchor">#</a> Hypothesis Rejection</h3><p>Be clinical, not emotional. If you're worng, you're wrong.</p><p><strong>When rejecting a hypothesis, be wary of multiple errors - symptoms of these may be masking/interfering with the current problem.</strong></p><p>If you uncover a second error, you may need to defer investigation of the original error until the newly uncovered error is fixed.</p></div><!----><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/compiler-errors.html" class="prev">
          Compiler Errors
        </a></span><span class="next"><a href="/debugging-with-gdb.html">
          Debugging With GDB
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/24.55c282e7.js" defer></script><script src="/assets/js/app.8a3df802.js" defer></script>
  </body>
</html>
