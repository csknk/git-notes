<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>C Programming Notes | Array of Strings</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/32.styles.ae2a5d82.css" as="style"><link rel="preload" href="/assets/js/app.8a3df802.js" as="script"><link rel="preload" href="/assets/js/29.00cba656.js" as="script"><link rel="prefetch" href="/assets/js/15.4559c975.js"><link rel="prefetch" href="/assets/js/0.894448ca.js"><link rel="prefetch" href="/assets/js/1.dbb2e170.js"><link rel="prefetch" href="/assets/js/2.f4e97633.js"><link rel="prefetch" href="/assets/js/3.77f784d0.js"><link rel="prefetch" href="/assets/js/4.f074ec56.js"><link rel="prefetch" href="/assets/js/5.401864b8.js"><link rel="prefetch" href="/assets/js/6.5ff037d9.js"><link rel="prefetch" href="/assets/js/7.79f66804.js"><link rel="prefetch" href="/assets/js/8.251a1da2.js"><link rel="prefetch" href="/assets/js/9.aeec5108.js"><link rel="prefetch" href="/assets/js/10.2ac99349.js"><link rel="prefetch" href="/assets/js/11.82476965.js"><link rel="prefetch" href="/assets/js/12.626fb8ab.js"><link rel="prefetch" href="/assets/js/13.9b5a9cde.js"><link rel="prefetch" href="/assets/js/14.6bf9dc3c.js"><link rel="prefetch" href="/assets/js/16.ba327036.js"><link rel="prefetch" href="/assets/js/17.2cd2ffe7.js"><link rel="prefetch" href="/assets/js/18.67c61d99.js"><link rel="prefetch" href="/assets/js/19.3887e1d9.js"><link rel="prefetch" href="/assets/js/20.09fda865.js"><link rel="prefetch" href="/assets/js/21.275eb215.js"><link rel="prefetch" href="/assets/js/22.41b961a6.js"><link rel="prefetch" href="/assets/js/23.c1b3a153.js"><link rel="prefetch" href="/assets/js/24.55c282e7.js"><link rel="prefetch" href="/assets/js/25.9c0ca156.js"><link rel="prefetch" href="/assets/js/26.211421c9.js"><link rel="prefetch" href="/assets/js/27.359e8375.js"><link rel="prefetch" href="/assets/js/28.68e35392.js"><link rel="prefetch" href="/assets/js/30.acfd0a2d.js"><link rel="prefetch" href="/assets/js/31.a1c2ef32.js">
    <link rel="stylesheet" href="/assets/css/32.styles.ae2a5d82.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      C Programming Notes
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><!----></div></header><div class="sidebar-mask"></div><div class="sidebar"><!----><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>Main Pages</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/array-of-pointers.html" class="sidebar-link">Array of Pointers</a></li><li><a href="/array-of-strings.html" class="active sidebar-link">Array of Strings</a></li><li><a href="/assembly.html" class="sidebar-link">Assembly</a></li><li><a href="/asserts.html" class="sidebar-link">Asserts</a></li><li><a href="/compiler-errors.html" class="sidebar-link">Compiler Errors</a></li><li><a href="/debugging.html" class="sidebar-link">Debugging</a></li><li><a href="/debugging-with-gdb.html" class="sidebar-link">Debugging With GDB</a></li><li><a href="/function-pointers.html" class="sidebar-link">Function Pointers</a></li><li><a href="/initialise-multidimensional-array.html" class="sidebar-link">Initialise Multi Dimensional Array</a></li><li><a href="/linking.html" class="sidebar-link">Linking</a></li><li><a href="/manpages.html" class="sidebar-link">Manpages</a></li><li><a href="/mutable-strings.html" class="sidebar-link">Mutable Strings</a></li><li><a href="/null-pointer.html" class="sidebar-link">Null</a></li><li><a href="/operating-system.html" class="sidebar-link">The Operating System &amp; System Calls</a></li><li><a href="/pass-array-as-parameter.html" class="sidebar-link">Passing Arrays as Parameters</a></li><li><a href="/pass-array-of-strings-to-function.html" class="sidebar-link">Pass Array of Strings as a Function Parameter</a></li><li><a href="/pointer-abuse.html" class="sidebar-link">Pointer Abuse</a></li><li><a href="/pointer-arithmetic.html" class="sidebar-link">Pointer Arithmetic</a></li><li><a href="/pointers-to-structs.html" class="sidebar-link">Pointers to Structs</a></li><li><a href="/preprocessing.html" class="sidebar-link">Preprocessing</a></li><li><a href="/programme-design.html" class="sidebar-link">Programme Design</a></li><li><a href="/qsort-function-pointers.html" class="sidebar-link">Function Pointers in qsort()</a></li><li><a href="/read-file-fread.html" class="sidebar-link">Reading &amp; Writing to File in C</a></li><li><a href="/recursion.html" class="sidebar-link">Recursion</a></li><li><a href="/string-copying.html" class="sidebar-link">String Copying</a></li><li><a href="/string-equality.html" class="sidebar-link">String Equality</a></li><li><a href="/string-literals.html" class="sidebar-link">String Literals</a></li><li><a href="/testing-finding-bugs.html" class="sidebar-link">Testing &amp; Finding Bugs</a></li><li><a href="/typedef-structs.html" class="sidebar-link">Typedef Structs</a></li><li><a href="/valgrind.html" class="sidebar-link">Valgrind</a></li><li><a href="/white-box-testing.html" class="sidebar-link">White Box Testing</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="array-of-strings"><a href="#array-of-strings" aria-hidden="true" class="header-anchor">#</a> Array of Strings</h1><p>An array of strings is a multidimensional array of characters. Strings themselves are arrays of characters with a null terminator. Because of this all the same rules apply to arrays of strings, and we can represent an array of strings as either <code>char **</code> or <code>char (*)[]</code></p><p>Consider the following two statements, each of which declares a multidimensional array of chars, and initializes it with a braced array of string literals:</p><pre class="language-c"><code><span class="token keyword">char</span> strs<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;Abc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;def&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ghi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> chrs<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;Abc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;def&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ghi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>The difference between the two declarations is the size of the second dimension of the array - 4 in the first statement, and 3 in the second.</p><p>The first statement (which declares <code>strs</code>) includes space for the null terminator, which is required to make the sequence of characters a valid string. The second statement, which declares <code>chrs</code>, does not include such space and only stores the characters that were written (with no null terminator).</p><p>In the first case, we have an array of strings. The second is an array of character arrays (none of which are null terminated - as such they are not strings).</p><p>This second statement is correct if we intend to use <code>chrs</code> only as a multidimensional array of characters, and not use its elements for anything which expects a null terminated string.</p><p>The second statement makes a valid multidimensional array of chars and is not illegal - it will not produce an error or a warning.</p><p>This behavior is much the same as we discussed previously, for just declaring arrays of characters and initializing them from string literals. However, a significant difference is that in the multidimensional case, we cannot omit the size from the second dimension (which is the number of characters in each string), as C allows us to omit only the first dimensions of a multidimensional array.</p><p>If you declare a multidimensional array of chars to hold strings of different lengths, then you must size the second dimension according to the length of the longest string. For example, we might declare the following array:</p><pre class="language-c"><code><span class="token keyword">char</span> words<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;likes&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;sleeping.&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>In this example, <code>words</code> requires 40 characters of storage despite the fact that the strings used to initialize it only occupy 22 characters. This representation wastes some space. While that waste may not be significant in this example, if we were instead looking at millions of strings with lengths that vary greatly, we might be wasting megabytes.</p><p>We might instead use the <a href="/array-of-pointers.html">array-of-pointers</a> representation for an array of strings. As we previously discussed, representing multidimensional data with an array of pointers allows us to have items of different lengths, which naturally solves the problem of wasted space. To represent our array of strings in this fashion, we might declare and initialize words as follows:</p><pre class="language-c"><code><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> words<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;likes&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;sleeping.&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>Observe that here, we declare words as an array of <code>const char *</code>s - the elements of the array are pointers to <code>const chars</code>, and thus the chars they point to may not be modified.</p><p>We should include the <code>const</code> (and must include it to be const-correct) as we have indicated that words should be initialized to pointers to string literals, which are in read-only memory.</p><p>We will note that it is common to end an array of strings with a NULL pointer, such as this:</p><pre class="language-c"><code><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> words2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;cat&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;likes&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;sleeping.&quot;</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Allows looping over the array as string (i.e. until NULL)</span>
<span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span> ptr <span class="token operator">=</span> words2<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>ptr <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s &quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  ptr<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><!----><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/array-of-pointers.html" class="prev">
          Array of Pointers
        </a></span><span class="next"><a href="/assembly.html">
          Assembly
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/29.00cba656.js" defer></script><script src="/assets/js/app.8a3df802.js" defer></script>
  </body>
</html>
